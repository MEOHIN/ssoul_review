spring:
  profiles:
    active: dev   # ?? ?? ???? dev? ?? (??? yml ???)

  config:
    import: optional:file:.env[.properties]  # .env ?? .properties ???? ???? ??

  application:
    name: back   # ?????? ?? ??

  security:
    oauth2:
      client:
        registration:  # OAuth2 ????? ??
          kakao:
            clientId: ${KAKAO_OAUTH2_CLIENT_ID}  # ?????? ????
            scope: profile_nickname
            client-name: Kakao
            authorization-grant-type: authorization_code
            redirect-uri: '${custom.site.backUrl}/{action}/oauth2/code/{registrationId}'
          google:
            client-id: ${GOOGLE_OAUTH2_CLIENT_ID}
            client-secret: ${GOOGLE_OAUTH2_CLIENT_SECRET}
            redirect-uri: '${custom.site.backUrl}/{action}/oauth2/code/{registrationId}'
            client-name: Google
            scope: profile
          naver:
            client-id: ${NAVER_OAUTH2_CLIENT_ID}
            client-secret: ${NAVER_OAUTH2_CLIENT_SECRET}
            scope: profile_nickname
            client-name: Naver
            authorization-grant-type: authorization_code
            redirect-uri: '${custom.site.backUrl}/{action}/oauth2/code/{registrationId}'
        provider:  # OAuth2 ??? URL ??
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id
          naver:
            authorization-uri: https://nid.naver.com/oauth2.0/authorize
            token-uri: https://nid.naver.com/oauth2.0/token
            user-info-uri: https://openapi.naver.com/v1/nid/me
            user-name-attribute: response

  cloud:
    aws:
      region:
        static: ap-northeast-2  # AWS ??
      stack:
        auto: false  # CloudFormation ?? ???? ????
      credentials:  # AWS ?? ?
        access-key: ${AWS_ACCESS_KEY_ID}
        secret-key: ${AWS_SECRET_ACCESS_KEY}
      s3:
        bucket: team2-app-s3-bucket  # S3 ?? ??

  ai:
    openai:
      api-key: ${OPEN_API_KEY}  # OpenAI API ?
      chat:
        base-url: "https://generativelanguage.googleapis.com/v1beta/openai/"
        options:
          model: "gemini-2.0-flash-exp"  # AI ?? ??
          temperature: 0.8
          max-tokens: 1000
        completions-path: "/chat/completions"  # API ??

  batch:
    job:
      enabled: false  # ?? ? ?? ????

springdoc:
  default-produces-media-type: application/json;charset=UTF-8  # Swagger ?? MIME ??

server:
  port: 8080  # ?? ??
  forward-headers-strategy: native  # ??? ???? X-Forwarded-* ?? ??
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true  # ??/?? ??? ??

custom:
  site:
    name: ssoul  # ??? ??
  jwt:
    secretKey: ${JWT_SECRET_KEY}  # JWT ???
  accessToken:
    expirationSeconds: 900  # ??? ?? ?? 15?
  refreshToken:
    expirationSeconds: 2592000  # ???? ?? ?? 30?
    idleTimeoutHours: 144  # ?? ???? 6?

management:
  endpoints:
    web:
      base-path: /actuator  # actuator ?? ??
      exposure:
        include: health,info  # ??? ?????
  endpoint:
    health:
      probes:
        enabled: true  # readiness/liveness ??? ???
      show-details: never  # ?? ?? ?? ??

chatbot:
  history:
    max-conversation-count: 5  # ?? ???? ?? ??
  system:
    prompt-file: classpath:prompts/chatbot-system-prompt.txt  # ??? ???? ??
    rules-file: classpath:prompts/chatbot-response-rules.txt  # ?? ?? ??
